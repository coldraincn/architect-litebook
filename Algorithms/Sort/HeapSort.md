# 堆排序
## 定义
>堆排序是利用堆这种数据结构而设计的一种排序算法，堆排序是一种选择排序，它的最坏最好平均时间复杂度均为nlogn，它也是不稳定排序
## 下沉过程sink
当一个结点比两个子结点小打破堆有序状态时，可以通过将它和它的两个子结点中较大的交换来恢复。
```java
private void sink(Comparable[] a,int k,int n){
    while(2*k<=n){
        if(j<n&&less(j,j+1)){
            j++;
        }
        if(!less(k,j)){
            break;
        }
        exch(k,j);
        k=j;
    }
}
```
## 堆排序
1. 堆的构造阶段
将数组从后向前，使用sink方法，只需要扫描数组中的一半元素，跳过大小为1的堆。
```java
int N = a.length;
for(int k = N/2;k>=1;k--){
    sink(a,k,N);
}

```
2. 下沉排序阶段
将堆中最大元素和未排序的最后一个交换，然后使用sink对前面的数组进行堆有序构造。
```java
while(N>1){
    exch(a,1,N--);
    sink(a,1,N);
}
```
## 分析
堆排序是所知的唯一能够同时最优的利用时间和空间的方法。最坏情况下保证使用nlgn次比较和恒定的额外空间。


